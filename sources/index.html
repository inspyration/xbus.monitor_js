<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Xbus Monitor</title>
<link rel="stylesheet"
    href="http://cdnjs.cloudflare.com/ajax/libs/jquery-ui-bootstrap/0.5pre/assets/css/bootstrap.min.css">
</head>

<body>

    <div class="container">
        <h1>Xbus Monitor</h1>
        <hr />
        <div class="page"></div>
    </div>

    <script type="text/javascript"
        src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script type="text/javascript"
        src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript"
        src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore-min.js"></script>
    <script type="text/javascript"
        src="http://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script>

    <script type="text/template" id="event_type_list_template">
    <a href="#/<%= name %>/create" class="btn btn-primary">New</a>
    <hr />
    <table class="table striped">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Description</th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <% _.each(models, function(model) { %>
                <tr>
                    <td><%= model.id %></td>
                    <td><%= htmlEncode(model.get('name')) %></td>
                    <td><%= htmlEncode(model.get('description')) %></td>
                    <td><a class="btn" href="#/<%= name %>/<%= model.id %>">View</a></td>
                    <td><a class="btn" href="#/<%= name %>/<%= model.id %>/edit">Edit</a></td>
                </tr>
            <% }); %>
        </tbody>
    </table>
    <hr/>
    <p>
        <a href="/">Home</a>
    </p>
    </script>

    <script type="text/template" id="event_type_form_template">
    <form class="record-form">
        <legend><%= model ? (editing ? 'Edit' : 'View') : 'New' %> Event Type</legend>
        <label>Name</label>
        <input name="name" type="text" value="<%= model ? model.get('name') : '' %>"<%= editing ? '' : ' readonly="readonly"' %>>
        <label>Description</label>
        <input name="description" type="text" value="<%= model ? model.get('description') : '' %>"<%= editing ? '' : ' readonly="readonly"' %>>
        <% if(editing) { %>
            <hr />
            <button type="submit" class="btn"><%= model ? 'Update' : 'Create' %></button>
            <% if(model) { %>
                <input type="hidden" name="id" value="<%= model.id %>" />
                <button class="btn btn-danger delete">Delete</button>
            <% }; %>
        <% }; %>
    </form>
    <hr/>
    <p>
        <a href="/">Home</a> -
        <a href="#/<%= name %>">Model list</a>
        <% if(model) { %>
            <% if(editing) { %>
                - <a href="#/<%= name %>/<%= model.id %>">View</a>
            <% } else { %>
                - <a href="#/<%= name %>/<%= model.id %>/edit">Edit</a>
            <% } %>
        <% } %>
    </p>
    </script>

    <script type="text/javascript" src="static/js/app.js"></script>

</body>
</html>
